{% extends "base.html" %}
{% block content %}
<div class="p-6 max-w-2xl">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">{{ event.title }}</h1>
    <a class="rounded bg-red-100/80 p-2 flex items-center"
      href="{{ return_to }}"
      aria-label="Back to previous page">
      <span class="material-symbols-outlined text-3xl">arrow_back</span>
    </a>
  </div>

  <div class="space-y-2">
    <div><b>When:</b>
      {% if event.all_day %}
        All day ({{ event.start_dt|date:"m/d/Y" }})
      {% else %}
        {{ event.start_dt|date:"m/d/Y g:i A" }} - {{ event.end_dt|date:"g:i A" }}
      {% endif %}
    </div>

    {% if event.location %}<div><b>Location:</b> {{ event.location }}</div>{% endif %}
    {% if event.notes %}<div><b>Notes:</b><br>{{ event.notes|linebreaksbr }}</div>{% endif %}
    <div><b>Person:</b> {{ event.get_person_display }}</div>
  </div>

  {% if can_edit %}
    <div class="mt-6 flex gap-3">
      <a class="px-3 py-2 rounded bg-gray-200"
          href="{% url 'calendar_event_edit' event.id %}?return_to={{ return_to|urlencode }}">Edit</a>

      <a class="px-3 py-2 rounded bg-red-200"
        href="{% url 'calendar_event_delete' event.id %}?return_to={{ return_to|urlencode }}">Delete</a>
    </div>
  {% endif %}

  <div class="text-xs text-gray-500 mt-2">
    Created by: {{ event.created_by|default:"?" }} |
    Last edited by: {{ event.last_edited_by|default:"?" }}
 </div>

</div>
{% endblock %}